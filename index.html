<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2025 с командой V3</title>
    <style>
        body {
            background-color: #f0f0f0;
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
        }
        h1 {
            color: #d00;
            margin-bottom: 20px;
        }
        .gifts-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            max-width: 1200px;
        }
        .gift {
            perspective: 1000px;
            width: 150px;
            height: 150px;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.3s ease;
        }
        .gift:hover {
            transform: translateY(-10px);
        }
        .gift-box {
            width: 100%;
            height: 100%;
            position: relative;
            transform-style: preserve-3d;
        }
        .box-bottom {
            width: 100%;
            height: 100%;
            background-color: #c00;
            position: absolute;
            transform: translateZ(-75px);
        }
        .box-lid {
            width: 100%;
            height: 100%;
            background-color: #c00;
            position: absolute;
            transform-origin: top;
            transition: transform 0.5s ease;
            transform-style: preserve-3d;
        }
        .ribbon-horizontal, .ribbon-vertical {
            position: absolute;
            background-color: #ffd700;
            opacity: 0.8;
        }
        .ribbon-horizontal {
            width: 100%;
            height: 20px;
            top: 50%;
            transform: translateY(-50%);
        }
        .ribbon-vertical {
            width: 20px;
            height: 100%;
            left: 50%;
            transform: translateX(-50%);
        }
        .bow {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 40px;
            height: 40px;
            background-color: #ffd700;
            border-radius: 50%;
            animation: pulse 2s infinite alternate, rotate-bow 5s infinite linear;
        }
        @keyframes pulse {
            from { transform: scale(1); }
            to { transform: scale(1.1); }
        }
        @keyframes rotate-bow {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        .label {
            position: absolute;
            bottom: -30px;
            left: 0;
            width: 100%;
            background-color: white;
            color: black;
            text-align: center;
            padding: 5px;
            font-size: 12px;
            transition: transform 0.3s;
        }
        .gift:hover .label {
            transform: translateY(-5px);
            animation: bounce-label 0.5s;
        }
        @keyframes bounce-label {
            0% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(-5px); }
        }
        .note {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            background-color: #fff;
            padding: 10px;
            border: 1px solid #ffd700;
            text-align: center;
            font-size: 14px;
            opacity: 0;
            transition: transform 0.5s 0.2s, opacity 0.5s 0.2s;
        }
        .name {
            position: absolute;
            bottom: -50px;
            left: 0;
            width: 100%;
            text-align: center;
            font-size: 16px;
            color: #d00;
            transform: translateY(100%);
            opacity: 0;
            transition: transform 0.5s 0.4s ease-out, opacity 0.5s 0.4s;
        }
        .opened .box-lid {
            transform: rotateX(-110deg);
        }
        .note-visible .note {
            transform: translate(-50%, -50%) scale(1);
            opacity: 1;
        }
        .name-visible .name {
            transform: translateY(0);
            opacity: 1;
            animation: bounce-name 1s;
        }
        @keyframes bounce-name {
            0% { transform: translateY(100%); }
            60% { transform: translateY(-20px); }
            80% { transform: translateY(10px); }
            100% { transform: translateY(0); }
        }
        .permanent {
            pointer-events: none;
        }
    </style>
</head>
<body>
    <h1>2025 с командой V3</h1>
    <div class="gifts-container"></div>

    <script>
        const hints = ['черепашка-ниндзя','архитектор','взрослый','космонавт','пекарь-путешественник','пастух','дизайнер интерьеров','актёр озвучки','блогер','программист','художник','диджей','повар','батюшка','сотрудник МЧС','разработчик','дизайнер','продавец','учительница','адвокат','взрослая','учитель английского','кассир','пиццамейкер','бариста'];
        const names = ['Анна','Иван','Мария','Дмитрий','Елена','Алексей','Ольга','Сергей','Татьяна','Михаил','Наталья','Владимир','Ирина','Павел','Юлия','Андрей','Екатерина','Николай','Светлана','Роман','Виктория','Денис','Анастасия','Артём','Ксения'];
        const noteText = 'факты про меня ✨'; // Fixed note text as per logic
        // Assuming facts is a typo or incomplete; using fixed note as described

        const container = document.querySelector('.gifts-container');

        for (let i = 0; i < 25; i++) {
            const gift = document.createElement('div');
            gift.classList.add('gift');
            gift.dataset.clickCount = 0;

            const box = document.createElement('div');
            box.classList.add('gift-box');

            const bottom = document.createElement('div');
            bottom.classList.add('box-bottom');

            const lid = document.createElement('div');
            lid.classList.add('box-lid');

            const ribbonH = document.createElement('div');
            ribbonH.classList.add('ribbon-horizontal');
            const ribbonV = document.createElement('div');
            ribbonV.classList.add('ribbon-vertical');

            const bow = document.createElement('div');
            bow.classList.add('bow');

            const label = document.createElement('div');
            label.classList.add('label');
            label.textContent = hints[i];

            const note = document.createElement('div');
            note.classList.add('note');
            note.textContent = noteText;

            const nameEl = document.createElement('div');
            nameEl.classList.add('name');
            nameEl.textContent = names[i];

            lid.appendChild(ribbonH);
            lid.appendChild(ribbonV);
            lid.appendChild(bow);

            box.appendChild(bottom);
            box.appendChild(lid);
            box.appendChild(note);
            box.appendChild(nameEl);

            gift.appendChild(box);
            gift.appendChild(label);

            gift.addEventListener('click', () => {
                let count = parseInt(gift.dataset.clickCount);
                count++;
                gift.dataset.clickCount = count;

                if (count === 1) {
                    gift.classList.add('opened');
                } else if (count === 2) {
                    gift.classList.add('note-visible');
                } else if (count === 3) {
                    gift.classList.add('name-visible');
                    gift.classList.add('permanent');
                }
            });

            container.appendChild(gift);
        }
    </script>
</body>
</html>

